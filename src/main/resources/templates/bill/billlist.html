<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户管理</title>
    <link type="text/css" rel="stylesheet" th:href="@{/css/style.css}"/>
    <link type="text/css" rel="stylesheet" th:href="@{/css/public.css}"/>
</head>
<body>

<div th:replace="head :: html"></div>  <!-- 插入head.html文件 ,注意：号前后有个空格-->
<div class="right">
    <div class="location">
        <strong>你现在所在的位置是:</strong>
        <span>订单管理页面</span>
    </div>
    <div class="search">
        <form method="post" th:action="@{/billlist}">
            <input name="method" value="query" class="input-text" type="hidden">
            <label>
                <span>订单名：</span>
                <input name="queryBillName" class="input-text" type="text" th:value="${queryBillName}">
            </label>
            <label>
                <span>订单角色：</span>
                <select name="queryProviderId" th:if="${providerList!= null}">
                    <option value="0">--请选择--</option>
                    <option th:each="provider:${providerList}"
                            th:text="${provider.proName}"
                            th:value="${provider.id}"
                            th:selected="${provider.id} eq ${queryProviderId}"></option>
                </select>
            </label>

            <input type="hidden" name="pageNum" value="1"/>
            <input value="查 询" type="submit" id="searchbutton">
            <a th:href="@{/billadd}">添加订单</a>
        </form>
    </div>
    <!--用户-->
    <table class="providerTable" cellpadding="0" cellspacing="0">
        <tr class="firstTr">
            <th width="10%">订单号</th>
            <th width="10%">产品名称</th>
            <th width="10%">产品类型</th>
            <th width="10%">产品数量</th>
            <th width="10%">总价</th>
            <th width="20%">供应商名称</th>
            <th width="20%">供应商地址</th>
            <th width="10%">操作</th>
        </tr>
        <tr th:each="bill:${pageInfo.list}"> <!--读取后端传来的用户信息 记得加.list-->
            <td>
                <span th:text="${bill.billCode}"/>
            </td>
            <td>
                <span th:text="${bill.productName}"/>
            </td>
            <td>
                <span th:text="${bill.productDesc}"/>
            </td>
            <td>
                <span th:text="${bill.productCount}"/>
            </td>
            <td>
                <span th:text="${bill.totalPrice}"/>
            </td>
            <td>
                <span th:text="${bill.provider.proName}"/>
            </td>
            <td>
                <span th:text="${bill.provider.proAddress}"/>
            </td>
            <td>
                <span>
                    <a class="viewBill" href="javascript:" th:billid="${bill.id}" th:billcc="${bill.productName}">
                        <img th:src="@{/images/read.png}" alt="查看" title="查看"/>
                    </a>
                </span>
                <span>
                    <a class="modifyBill" href="javascript:" th:billid="${bill.id}" th:billcc="${bill.productName}">
                        <img th:src="@{/images/xiugai.png}" alt="修改" title="修改"/>
                    </a>
                </span>
                <span>
                    <a class="deleteBill" href="javascript:" th:billid="${bill.id}" th:billcc="${bill.productName}">
                        <img th:src="@{/images/schu.png}" alt="删除" title="删除"/>
                    </a>
                </span>
            </td>
        </tr>
        </c:forEach>
    </table>
    <!-- 用控件分页-->
    <div class="page-bar">
        <p>当前
            <span th:text="${pageInfo.pageNum}"></span> 页,总
            <span th:text="${pageInfo.pages}"></span> 页,共
            <span id="totalPageCount" name="totalPageCount" th:text="${pageInfo.total}"></span>
            条记录
        </p>
        <a th:href="@{/billlist}">首页</a>
        <a th:href="@{/billlist(pageNum=${pageInfo.hasPreviousPage}?${pageInfo.prePage}:1)}">上一页</a>
        <a th:href="@{/billlist(pageNum=${pageInfo.hasNextPage}?${pageInfo.nextPage}:${pageInfo.pages})}">下一页</a>
        <a th:href="@{/billlist(pageNum=${pageInfo.pages})}">尾页</a>

        <span class="page-go-form">
            <label>
                跳转至
                <input type="text" name="inputPage" id="inputPage" class="page-key"/>页
            </label>
            <button type="button" class="page-btn"
                    onClick='jump_to(document.forms[0],document.getElementById("inputPage").value)'>GO</button>
        </span>

    </div>

</div>
</section>

<!--点击删除按钮后弹出的页面-->
<div class="zhezhao"></div>
<div class="remove" id="removeUse">
    <div class="removerChid">
        <h2>提示</h2>
        <div class="removeMain">
            <p>你确定要删除该用户吗？</p>
            <a href="#" id="yes">确定</a>
            <a href="#" id="no">取消</a>
        </div>
    </div>
</div>

<div th:replace="foot :: html"></div>  <!--插入foot.html文件,注意：号前后有个空格-->
<script type="text/javascript" th:src="@{js/billlist.js}"></script>
<script type="text/javascript" th:src="@{js/rollpage.js}"></script>
</body>
</html>
